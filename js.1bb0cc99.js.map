{"version":3,"sources":["js/gallery-items.js","js/markup.js","js/index.js"],"names":["preview","original","description","makeGalleryList","imagesGallery","map","join","refs","gallery","document","querySelector","lightbox","lightboxImage","lightboxOverlay","lightboxCloseBtn","galleryMarkup","galleryItems","onModalOpen","e","preventDefault","target","nodeName","addLightboxClass","setOriginalImage","window","addEventListener","onModalClose","console","log","dataset","source","alt","classList","add","changingSrcAndAlt","isCloseBtn","contains","isCloseOverlay","isCloseEscBtn","code","removeLightboxClass","removeEventListener","remove","src","onChangeArrow","currentImage","currentIndex","nextImage","prevImage","forEach","item","index","originalImage","length","insertAdjacentHTML"],"mappings":"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","file":"js.1bb0cc99.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","export default function makeGalleryList(imagesGallery) {\r\n  return imagesGallery\r\n    .map(({ preview, original, description }) => {\r\n      return `\r\n      <li class=\"gallery__item\">\r\n        <a \r\n          class=\"gallery__link\"\r\n          href=${original}\r\n        >\r\n            <img \r\n              src=${preview}\r\n              data-source=${original}\r\n              class=\"gallery__image\"\r\n              alt=${description}\r\n              loading=\"lazy\"\r\n            />\r\n        </a>\r\n      </li>    \r\n      `;\r\n    })\r\n    .join('');\r\n}\r\n","import galleryItems from './gallery-items.js';\r\nimport makeGalleryList from './markup.js';\r\n\r\nconst refs = {\r\n  gallery: document.querySelector('.js-gallery'),\r\n  lightbox: document.querySelector('.js-lightbox'),\r\n  lightboxImage: document.querySelector('.lightbox__image'),\r\n  lightboxOverlay: document.querySelector('.lightbox__overlay'),\r\n  lightboxCloseBtn: document.querySelector('button[data-action=\"close-lightbox\"]'),\r\n};\r\n\r\nconst galleryMarkup = makeGalleryList(galleryItems);\r\nrefs.gallery.insertAdjacentHTML('afterbegin', galleryMarkup);\r\nrefs.gallery.addEventListener('click', onModalOpen);\r\nrefs.lightbox.addEventListener('click', onModalClose);\r\nrefs.lightboxOverlay.addEventListener('click', onModalClose);\r\nwindow.addEventListener('keydown', onChangeArrow);\r\n\r\n// --- Open ---\r\nfunction onModalOpen(e) {\r\n  e.preventDefault();\r\n\r\n  if (e.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n\r\n  addLightboxClass(e);\r\n  setOriginalImage(e);\r\n\r\n  window.addEventListener('keydown', onModalClose);\r\n\r\n  console.log(e.target.dataset.source);\r\n  console.log(e.target.alt);\r\n}\r\n\r\nfunction addLightboxClass() {\r\n  refs.lightbox.classList.add('is-open');\r\n}\r\n\r\nfunction setOriginalImage(e) {\r\n  const originalImageSrc = e.target.dataset.source;\r\n  const originalImageAlt = e.target.alt;\r\n  changingSrcAndAlt(originalImageSrc, originalImageAlt);\r\n}\r\n\r\n// --- Close ---\r\nfunction onModalClose(e) {\r\n  const isCloseBtn = e.target.classList.contains('lightbox__button');\r\n  const isCloseOverlay = e.target.classList.contains('lightbox__overlay');\r\n  const isCloseEscBtn = e.code === 'Escape';\r\n\r\n  if (isCloseBtn || isCloseOverlay || isCloseEscBtn) {\r\n    removeLightboxClass(e);\r\n    changingSrcAndAlt('', '');\r\n  }\r\n  window.removeEventListener('keydown', onModalClose);\r\n  // window.removeEventListener('keydown', onChangeArrow); // блокирует нажатие клавиш в модалке более 1 раза\r\n}\r\n\r\nfunction removeLightboxClass() {\r\n  refs.lightbox.classList.remove('is-open');\r\n}\r\n\r\nfunction changingSrcAndAlt(src, alt) {\r\n  refs.lightboxImage.src = src;\r\n  refs.lightboxImage.alt = alt;\r\n}\r\n\r\n// --- Change Image By Arrows---\r\nfunction onChangeArrow(e) {\r\n  let currentImage = refs.lightboxImage.src;\r\n  let currentIndex = 0;\r\n  const nextImage = e.code === 'ArrowRight';\r\n  const prevImage = e.code === 'ArrowLeft';\r\n\r\n  galleryItems.forEach((item, index) => {\r\n    const originalImage = item.original;\r\n\r\n    if (currentImage === originalImage) {\r\n      currentIndex = index;\r\n    }\r\n  });\r\n\r\n  if (nextImage && currentIndex < galleryItems.length - 1) {\r\n    currentIndex += 1;\r\n    changingSrcAndAlt(galleryItems[currentIndex].original, galleryItems[currentIndex].description);\r\n    return;\r\n  }\r\n\r\n  if (prevImage && currentIndex > 0) {\r\n    currentIndex -= 1;\r\n    changingSrcAndAlt(galleryItems[currentIndex].original, galleryItems[currentIndex].description);\r\n    return;\r\n  }\r\n\r\n  if (nextImage && currentIndex === galleryItems.length - 1) {\r\n    currentIndex = 0;\r\n    changingSrcAndAlt(galleryItems[currentIndex].original, galleryItems[currentIndex].description);\r\n    return;\r\n  }\r\n\r\n  if (prevImage && currentIndex === 0) {\r\n    currentIndex = galleryItems.length - 1;\r\n    changingSrcAndAlt(galleryItems[currentIndex].original, galleryItems[currentIndex].description);\r\n    return;\r\n  }\r\n}\r\n"]}